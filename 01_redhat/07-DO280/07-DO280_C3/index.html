
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../07-DO280_C2/">
      
      
        <link rel="next" href="../07-DO280_C4/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Capítulo 3, Auntenticación y Autorización - My Learning</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#capitulo-3-autenticacion-y-autorizacion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="My Learning" class="md-header__button md-logo" aria-label="My Learning" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Capítulo 3, Auntenticación y Autorización
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../home/" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../planning/" class="md-tabs__link">
        
  
    
  
  Planning

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../notes_redhat/" class="md-tabs__link">
          
  
  Red Hat

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../02_finops/01_finops_practitioner/" class="md-tabs__link">
          
  
  FinOps Foundation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../03_cisco/fundamentos_python_1/" class="md-tabs__link">
          
  
  Cisco Networking Academy

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../04_english/A1/" class="md-tabs__link">
          
  
  English (Smart Online)

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="My Learning" class="md-nav__button md-logo" aria-label="My Learning" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    My Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Red Hat
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Red Hat
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notes_redhat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas Red Hat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 RHCSA Rapid Track (RH199)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            01 RHCSA Rapid Track (RH199)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-EX200_RHCSA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objetivos RH199
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Sistema de accesos y soporte
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Gestión de Archivos desde CmdLine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Gestión de usuarios y grupos locales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Control de acceso a archivos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Gestión de seguridad SELinux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Ajustes de rendimiento del sistema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Programación de tareas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Instalación y actualización de paquetes de software
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Gestión básica de almacenamiento (Storage)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 10, Gestión de almacenamiento lógico (Stack)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 11, Servicios de control y procesos de boot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 12, Análisis y almacenamiento de Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 13, Gestión de redes (Networking)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 14, Acceso de almacenamiento por red (Network-Attached)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 15, Gestión de seguridad de redes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/01-RH199_C16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 16, Ejecución de contenedores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/02-RH199/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Red Hat Enterprise Linux 9.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-RH199/03-RH199_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 RHEL Automation with Ansible (RH294)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            02 RHEL Automation with Ansible (RH294)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/01-RH294/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Red Hat Enterprise Linux Automation with Ansible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Introducción Ansible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Implementación de Ansible Playbook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Gestión de variables y facts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Implementación de tareas de control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Despliegue de archivos en Hosts gestionados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Gestión de Play y Playbook complejos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Simplificando Playbook's con roles y contenido de Colecciones (Collections)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Automatización de tareas de Administración Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RHELAA_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-RH294/02-RH294_playbooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ejecicio de práctica, playbooks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03 Managing Enterprise Automation with RH AAP (DO467)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            03 Managing Enterprise Automation with RH AAP (DO467)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/01-DO467/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Enterprise Automation with Red Hat Ansible Automation Platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Instalación de Red Hat Ansible Automation Platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Gestión de acceso de usuarios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Gestión de inventarios y credenciales de máquinas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Gestión de Proyectos y ejecución Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Configuración avanzada de Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Construyendo Job worflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Gestión Vanzada de inventarios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Automatizando configuración de AAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Mantenimiento de AAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 10, Obteniendo información desde Red Hat Insights
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/03-DO467_C11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 11, Construyendo implementación a gran escala de AAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-DO467/RHAAP_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04 Developing Advanced Automation with RH AAP (DO374)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            04 Developing Advanced Automation with RH AAP (DO374)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Desarrollando Playbook con AAP 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Gestión de contenido de Colecciones y Entornos de Ejecución (Collection & EE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Ejecutando Playbooks con el Automation Controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Trabajando con ajustes de configuraciones de Ansible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Gestión de Inventarios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Gestión de Tareas de Ejecución
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Transformando data con Filtros y Plug-ins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Coordinando las actualizaciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/04-DO374_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Creando Colecciones y Ambientes de Ejecución (Collections & EE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/RHAAP_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_11" >
        
          
          <label class="md-nav__link" for="__nav_3_5_11" id="__nav_3_5_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prácticas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_11">
            <span class="md-nav__icon md-icon"></span>
            Prácticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-DO374/practice_collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica Colecciones
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05 Red Hat Satellite 6 Administration (RH403)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            05 Red Hat Satellite 6 Administration (RH403)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/01-RHSA6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install & Manage Red Hat Satellite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Planeación y despliegue de Red Hat Satellite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Gestión de ciclos de vida de Software (Lifecycles)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Registro de hosts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Despliegue de Software en Hosts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Despliegue de Software Personalizado
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Despliegue de Servidores Capsula Satellite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Ejecución Remota
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Preparar recursos de Red para aprovisionamiento de Hosts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Aprovisionamiento de contenido de Hosts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 10, Automatizar Gestión de Red Hat Satellite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 11, Mantenimiento de Red Hat Satellite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/05-RH403_C12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 12, Integrar Red Hat Satellite con plataformas híbridas Cloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/RH403_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-RHSA6/RH403_prereq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-requisitos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    06 Red Hat OpenShift Administration I (DO180)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            06 Red Hat OpenShift Administration I (DO180)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/01-DO180/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating a Production Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Introducción a Kubernetes y Openshift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Linea de comandos Kubernetes y Openshift, Interfaces y APIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Ejecución de aplicaciones como Contenedores y Pods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Gestión de despliegue y aplicaciones en red sobre Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Gestión de almacenamiento (Storage) para configuración de aplicación y Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Configuración de Aplicaciones con disponibilidad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/06-DO180_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Gestión de actualizaciones de Aplicaciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-DO180/DO180_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" checked>
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    07 Red Hat OpenShift Administration II (DO280)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            07 Red Hat OpenShift Administration II (DO280)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 1, Gestión Declarativa de recursos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 2, Despliegue de aplicaciones empaquetadas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Capítulo 3, Auntenticación y Autorización
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Capítulo 3, Auntenticación y Autorización
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurar-proveedor-de-identidades" class="md-nav__link">
    <span class="md-ellipsis">
      Configurar Proveedor de Identidades
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurar Proveedor de Identidades">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authenticating-api-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticating API Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operador-de-autenticacion" class="md-nav__link">
    <span class="md-ellipsis">
      Operador de Autenticación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proveedor-de-identidades" class="md-nav__link">
    <span class="md-ellipsis">
      Proveedor de identidades
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autenticando-como-admin-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando como Admin Clúster
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticando como Admin Clúster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autenticando-con-certificado-x509" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando con certificado X.509
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autenticando-con-usuario-vitual-kubeadmin" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando con usuario vitual kubeadmin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticando con usuario vitual kubeadmin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eliminando-el-usuario-virtual" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando el usuario virtual
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-usuarios-con-el-proveedor-de-identidad-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Gestionando usuarios con el proveedor de identidad HTPasswd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestionando usuarios con el proveedor de identidad HTPasswd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-el-archivo-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Creando el archivo HTPasswd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-el-secret-de-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Creando el secret de HTPasswd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrayendo-los-datos-del-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Extrayendo los datos del secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizandoel-secret-del-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizandoel secret del HTPasswd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurando-el-idp-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Configurando el IdP HTPasswd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurando el IdP HTPasswd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurando-el-recurso-oauth-tipo-personalizado" class="md-nav__link">
    <span class="md-ellipsis">
      Configurando el recurso OAuth tipo personalizado
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actulizando-el-recurso-personalizadode-oauth" class="md-nav__link">
    <span class="md-ellipsis">
      Actulizando el recurso personalizadode OAuth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminando-usuarios-e-idp" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando usuarios e IdP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asignacion-de-privilegios-de-administracion" class="md-nav__link">
    <span class="md-ellipsis">
      Asignación de privilegios de administración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentacion" class="md-nav__link">
    <span class="md-ellipsis">
      Documentación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definir-y-aplicar-permisos-con-rbac" class="md-nav__link">
    <span class="md-ellipsis">
      Definir y aplicar permisos con RBAC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Definir y aplicar permisos con RBAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rbac-role-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      RBAC (Role-based Access Control)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RBAC (Role-based Access Control)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proceso-de-autorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso de autorización
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alcance-de-rbac" class="md-nav__link">
    <span class="md-ellipsis">
      Alcance de RBAC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-rbac-con-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Gestionando RBAC con CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-por-default" class="md-nav__link">
    <span class="md-ellipsis">
      Roles por default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Tipos de usuarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de grupos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentacion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Documentación
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 4, Seguridad de Redes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 5, Exponer apps no HTTP/SNI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 6, Habilitar Auto-servicio de Desarrollo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 7, Gestión de operadores de Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 8, Seguridad de apllicaciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-DO280_C9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capítulo 9, Actualizaciones de Openshift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DO280_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notas de práctica
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    08 Red Hat Openshift Installation (DO322)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            08 Red Hat Openshift Installation (DO322)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08-DO322/08-DO322_C1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capitulo 1, Descripción del proceso de Instalación de OCP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../08-DO322/08-DO322_C2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capitulo 2, Ejecutando la instalación de OCP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FinOps Foundation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            FinOps Foundation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../02_finops/01_finops_practitioner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FinOps Certified Practitioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../02_finops/focp_questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FOCP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cisco Networking Academy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cisco Networking Academy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03_cisco/fundamentos_python_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fundamentos de Python 1
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    English (Smart Online)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            English (Smart Online)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04_english/A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A1
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurar-proveedor-de-identidades" class="md-nav__link">
    <span class="md-ellipsis">
      Configurar Proveedor de Identidades
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurar Proveedor de Identidades">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authenticating-api-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticating API Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operador-de-autenticacion" class="md-nav__link">
    <span class="md-ellipsis">
      Operador de Autenticación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proveedor-de-identidades" class="md-nav__link">
    <span class="md-ellipsis">
      Proveedor de identidades
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autenticando-como-admin-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando como Admin Clúster
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticando como Admin Clúster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autenticando-con-certificado-x509" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando con certificado X.509
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autenticando-con-usuario-vitual-kubeadmin" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticando con usuario vitual kubeadmin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticando con usuario vitual kubeadmin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eliminando-el-usuario-virtual" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando el usuario virtual
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-usuarios-con-el-proveedor-de-identidad-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Gestionando usuarios con el proveedor de identidad HTPasswd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestionando usuarios con el proveedor de identidad HTPasswd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-el-archivo-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Creando el archivo HTPasswd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-el-secret-de-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Creando el secret de HTPasswd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrayendo-los-datos-del-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Extrayendo los datos del secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizandoel-secret-del-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizandoel secret del HTPasswd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurando-el-idp-htpasswd" class="md-nav__link">
    <span class="md-ellipsis">
      Configurando el IdP HTPasswd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurando el IdP HTPasswd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurando-el-recurso-oauth-tipo-personalizado" class="md-nav__link">
    <span class="md-ellipsis">
      Configurando el recurso OAuth tipo personalizado
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actulizando-el-recurso-personalizadode-oauth" class="md-nav__link">
    <span class="md-ellipsis">
      Actulizando el recurso personalizadode OAuth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminando-usuarios-e-idp" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando usuarios e IdP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asignacion-de-privilegios-de-administracion" class="md-nav__link">
    <span class="md-ellipsis">
      Asignación de privilegios de administración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentacion" class="md-nav__link">
    <span class="md-ellipsis">
      Documentación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definir-y-aplicar-permisos-con-rbac" class="md-nav__link">
    <span class="md-ellipsis">
      Definir y aplicar permisos con RBAC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Definir y aplicar permisos con RBAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rbac-role-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      RBAC (Role-based Access Control)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RBAC (Role-based Access Control)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proceso-de-autorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Proceso de autorización
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alcance-de-rbac" class="md-nav__link">
    <span class="md-ellipsis">
      Alcance de RBAC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-rbac-con-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Gestionando RBAC con CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-por-default" class="md-nav__link">
    <span class="md-ellipsis">
      Roles por default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Tipos de usuarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      Gestión de grupos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentacion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Documentación
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="capitulo-3-autenticacion-y-autorizacion">Capitulo 3 - Autenticación y Autorización</h1>
<p>Configurar autenticación con un proveedor de identidad HTPasswd y asignar roles a ususario/grupos</p>
<ul>
<li>Configurar un proveedor de identidades HTPAsswd para la autenticación de OCP</li>
<li>Definir controles de acceso basados en roles y aplicar permisos a usuarios.</li>
</ul>
<h2 id="configurar-proveedor-de-identidades">Configurar Proveedor de Identidades</h2>
<p>Muchos de lso recursos de OCP se relacionan con autenticación y autorización. La siguiente lista muestra los tipos de recursos primarios y otras definiciones:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Tipo de Recurso <br/> Primario</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><em>user</em></td>
<td style="text-align: left;">El recurso tipo <em>usuarios</em> son indentidades en OCP que interactúan con el API Server y representa un actor en el sistema. Se asigna permisos por roles directamente a él o a un grupo al que pertenece</td>
</tr>
<tr>
<td style="text-align: left;"><em>identity</em></td>
<td style="text-align: left;">El recurso de <em>identidades</em> ayuda a mantener el registro de los intentos de autenticación de un <em>usuario</em> de algún proveedor de identidades. todo dato se almacena</td>
</tr>
<tr>
<td style="text-align: left;"><em>Service Account</em></td>
<td style="text-align: left;">El recursos <em>cuenta de servicio</em> es para cominicar las aplicaciones con la API independientemente cuando las credenciales de usuario no son necesarias. Ejemplo: la credenciales de <em>usuario</em> no se comparten y se pasan las <em>cuentas de servicio</em></td>
</tr>
<tr>
<td style="text-align: left;"><em>Group</em></td>
<td style="text-align: left;">El recurso <em>grupos</em> repesenta un conjunto de <em>usuarios</em>. Los <em>usuarios</em> se asignan a <em>grupos</em>. OCP provee <em>grupos</em> de sistema o virtuales aprovisionados automaticamente por el clúster</td>
</tr>
<tr>
<td style="text-align: left;"><em>Role</em></td>
<td style="text-align: left;">El recurso <em>role</em> define las operaciones API que el <em>usuario</em> puede hacer en un recurso determinado. Los <em>roles</em> se pueden asignar a <em>usuarios</em> <em>grupos</em> y <em>cuentas de servicio</em></td>
</tr>
</tbody>
</table>
<h3 id="authenticating-api-requests">Authenticating API Requests</h3>
<p>La autenticación y la autorización son capas de seguridad habilitadas para un usuario interactuar en un clúster.</p>
<p><img alt="Auth" height="400" src="../images/do288_c03_01.png" style="display: block; margin: 0 auto" width="600" /></p>
<p>El API de OCP tiene 2 mpetodos para las solicitudes de autenticación</p>
<ul>
<li>Accesos de token OAuth</li>
<li>Certificados cliente X.509</li>
</ul>
<h3 id="operador-de-autenticacion">Operador de Autenticación</h3>
<p>OCP tiene o provee el operador de Autenticación que se ejecuta en un servidor de OAuth. Este provee tokens de acceso a los usuarios que intentan autenticar y el debe estar configurado con un proveedo de identidades.</p>
<h3 id="proveedor-de-identidades">Proveedor de identidades</h3>
<p>Un servidor OCP OAuth se puede configurar con muchos proveedores de identidades, entre ellos:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Proveedor de Identidades</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">HTPasswd</td>
<td style="text-align: left;">Validación de usuario/password contra un <em>secret</em> que los tiene almacenados con el comando <code>htpasswd</code></td>
</tr>
<tr>
<td style="text-align: left;">Keystone</td>
<td style="text-align: left;">Autenticación compartida habilitada con servidor OpenStack Keystone v3</td>
</tr>
<tr>
<td style="text-align: left;">LDAP</td>
<td style="text-align: left;">Proveedor LDAP de usuarios/passwords de un server con LDAPv3 usando autenticación bind</td>
</tr>
<tr>
<td style="text-align: left;">GitHub or GitHub Enterprise</td>
<td style="text-align: left;">Se puede configurar GitHub como proveedor de identidades</td>
</tr>
<tr>
<td style="text-align: left;">OpenID Connect</td>
<td style="text-align: left;">Se puede integrar usando Autorización Code Flow</td>
</tr>
</tbody>
</table>
<h3 id="autenticando-como-admin-cluster">Autenticando como Admin Clúster</h3>
<p>Antes de iniciar la configuración con con un proveedor de identidades, se debe acceder al clúster de OCP como administrador. Una instalación nueva tiene 2 opciones de autenticación por solicitud al API. La primera es a traves de el archivo <code>kubeconfig</code> el cual incluye un certificado x509 que nunca expira. El otro camino es a traves de <code>kubeadmin</code> desde un servidor virtual. Una correcta autenticación otorga un token con acceso</p>
<h4 id="autenticando-con-certificado-x509">Autenticando con certificado X.509</h4>
<p>Durante del proceso de instalación de OCP se crea un archivo único <code>kubeconfig</code> en el directorio <code>auth</code>. Este archivo tiene en detalle los parámetros para relaizar una conexión CLI como cliente hacia el API del server, e incluye el certificado X.509.</p>
<p>Los logs de instalación está la ruta, es tipo info</p>
<pre><code class="language-text">INFO Run 'export KUBECONFIG=/root/auth/kubeconfig' to manage the cluster with 'oc'.
</code></pre>
<p>Para acceder a la granja de OCP, se exporta el path de del <code>kubeconfig</code> tal como se ve en el LOG y luego puede ejecutar un <code>oc get nodes</code> para verificar. Como alternativa puede usar el argumento <code>--kubeconfig</code> para describir el path, así:</p>
<pre><code class="language-bash">oc --kubeconfig /home/user/auth/kubeconfig get nodes
</code></pre>
<h3 id="autenticando-con-usuario-vitual-kubeadmin">Autenticando con usuario vitual <code>kubeadmin</code></h3>
<p>Despues de una completa instalación, OCP crea un usuario virtual <code>kubeadmin</code>. El <em>secret</em> esta tipo <em>hash</em>. El proceso de instalador genea un password aleatorio y unico para la administración del clúster y en los logs de instalación se puede el usuario, el password y la URL de acceso a la consola</p>
<h4 id="eliminando-el-usuario-virtual">Eliminando el usuario virtual</h4>
<p>Luego de definir un proveedor de identidad, cerar usuario y asignarle el role de <em>admin clúster</em>, se puede eliminar el usuario <code>kubeadmin</code></p>
<pre><code class="language-bash">oc delete secret kubeadmin -n kube-system
</code></pre>
<p><img alt="warning delete kubeadmin" height="20" src="../../../images/warning.png" style="display: block" width="30" /></p>
<p><strong><em>Si antes de eliminar no se cuenta con un usuario con role Admin o no se tiene una copia del archivo <code>kubeconfig</code> la alternativa de acceso es destruir y reinstalar el cluster</em></strong></p>
<h3 id="gestionando-usuarios-con-el-proveedor-de-identidad-htpasswd">Gestionando usuarios con el proveedor de identidad HTPasswd</h3>
<p>Gestionar las credenciales de un usuario con el proveedor de identidades requiere la creación de un archivo temporal  <code>HTPasswd</code> el cual se modifica y luego se aplica los cambios.</p>
<h4 id="creando-el-archivo-htpasswd">Creando el archivo HTPasswd</h4>
<pre><code class="language-bash">htpasswd -c -B -b /tmp/htpasswd eocampo myp4ssw0rd
</code></pre>
<p>La opción <code>-c</code> reempaza el contenido del archivo si este ya existe. Con la opción <code>-b</code> se actualiza el password y con solo la opción <code>-D</code> se eliminan las credenciales</p>
<h4 id="creando-el-secret-de-htpasswd">Creando el secret de HTPasswd</h4>
<p>Cuando se usa el proveedor <em>HTPasswd</em>, se debe crear un <em>secret</em> que contenga los datos del archivo <code>htpasswd</code>. </p>
<pre><code class="language-bash">oc create secret generic htpasswd-secret --from-file htpasswd=/tmp/htpasswd -n openshift-config
</code></pre>
<p><strong>NOTA</strong> Un secret que tiene el IdP (Identity Provider) HTPasswd debe tener el prefijo <code>htpasswd=</code> antes de especificar la rurta del archivo</p>
<h4 id="extrayendo-los-datos-del-secret">Extrayendo los datos del <em>secret</em></h4>
<p>Cuando se agregan o remueven usuarios se tiliza el comando <code>oc extract</code> para recuperar el <em>secret</em>. Por defecto el comando guarda cada llave del <em>secret</em> en un archivo separado, sin embargo se puede reubicar la salida de todos las llaves a un solo archivo, asi:</p>
<pre><code class="language-bash">oc extract secret/htpasswd-secret -n openshift-config --to /tmp/ --confirm
</code></pre>
<h4 id="actualizandoel-secret-del-htpasswd">Actualizandoel <em>secret</em> del HTPasswd</h4>
<p>El <em>secret</em> se debe actualizar luego de adicionar, modificar o incluso eliminar un usuario y se puejde hacer con el comando <code>oc set data secret</code> para actualizar. A menos que el nombre del archivo no sea <code>htpasswd</code> se debe especificar, asi:</p>
<pre><code class="language-bash">oc set data secret/htpasswd-secret --from-file htpasswd=/tmp/htpasswd -n openshift-config
</code></pre>
<p>Una ves actualizado el <em>secret</em> el operador OAuth re-despliega los pods del <em>namespace</em> <code>openshift-authentication</code>. Se puede monitorrear asi:</p>
<pre><code class="language-bash">watch oc get pods -n openshift-authentication
</code></pre>
<h3 id="configurando-el-idp-htpasswd">Configurando el IdP HTPasswd</h3>
<p>El IdP valida los usuarios contra un <em>secret</em> que contiene los nombres de usuario y contraseñas y solo el Admin del Clúster puede modifcar los datos.</p>
<h4 id="configurando-el-recurso-oauth-tipo-personalizado">Configurando el recurso OAuth tipo personalizado</h4>
<p>Para usar el IdP HTPasswd, la personalización del recurso OAuth debe editarse para agregar una entrada a la matriz de <code>.spec.identityProviders</code></p>
<pre><code class="language-yml">apiVersion: config.openshift.io/v1
kind: OAuth
metadata:
  name: cluster
spec:
  identityProviders:
  - name: my_htpasswd_provider
    mappingMethod: claim
    type: HTPasswd
    htpasswd:
      fileData:
        name: htpasswd-secret
</code></pre>
<table>
<thead>
<tr>
<th style="text-align: left;">entry</th>
<th style="text-align: left;">explicación</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">- name: my_htpasswd_provider</td>
<td style="text-align: left;">Nombre del IdP</td>
</tr>
<tr>
<td style="text-align: left;">mappingMethod: claim</td>
<td style="text-align: left;">La opción <code>claim</code> no permite el inicio de sesión con diferentes IdP</td>
</tr>
<tr>
<td style="text-align: left;">name: htpasswd-secret</td>
<td style="text-align: left;"><em>secret</em> existente que contiene los datos</td>
</tr>
</tbody>
</table>
<h4 id="actulizando-el-recurso-personalizadode-oauth">Actulizando el recurso personalizadode OAuth</h4>
<p>Primero se exporta el contenido a un yaml con el comando <code>get</code> . En el output generado se edita para modificar los cambios del IdP y sus configuraciones y al completarse se guardan los cambios y luego se reemplaza con el comando <code>replace</code> así:</p>
<pre><code class="language-bash">oc get oauth cluster -o yaml &gt; oauth.yaml

oc replace -f oauth.yaml
</code></pre>
<h4 id="eliminando-usuarios-e-idp">Eliminando usuarios e IdP</h4>
<ul>
<li>Elimiando un usuario del <code>httpsswd</code></li>
</ul>
<pre><code class="language-bash">htpasswd -D /tmp/htpasswd manager
</code></pre>
<ul>
<li>Actualizar el <em>secret</em> eliminando que queda del password del recurso del usuario</li>
</ul>
<pre><code class="language-bash">oc set data secret/htpasswd-secret --from-file htpasswd=/tmp/htpasswd -n openshift-config
</code></pre>
<ul>
<li>Eliminar el usuario</li>
</ul>
<pre><code class="language-bash">oc delete user manager
</code></pre>
<ul>
<li>IdP, se busca el IdP en el clúster y luego se elimina:</li>
</ul>
<pre><code class="language-bash">oc get identities | grep manager

oc delete identity my_htpasswd_provider:manager
</code></pre>
<h4 id="asignacion-de-privilegios-de-administracion">Asignación de privilegios de administración</h4>
<pre><code class="language-bash">adm policy add-cluster-role-to-user cluster-admin eocampo
</code></pre>
<h3 id="documentacion">Documentación</h3>
<ul>
<li><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.14/html-single/authentication_and_authorization/index#understanding-identity-provider">Understanding Identity Provider Configuration</a></li>
</ul>
<h2 id="definir-y-aplicar-permisos-con-rbac">Definir y aplicar permisos con RBAC</h2>
<p>Definir controles de acceso basados en roles y aplicar permisos a <em>usuarios</em></p>
<h3 id="rbac-role-based-access-control">RBAC (Role-based Access Control)</h3>
<p>RBAC es una técnica para gestionar acceso a los recursos es un sistema de cómputo. En OCP, RBAC determina que acciones se pueden ejecutar dentro de un Clúster o proyecto. Se pueden elegir entre 2 tipos de role, dependiendo del nivel de responsabilida del usuario: <strong>cluster</strong> y <strong>local</strong></p>
<p><img alt="Auth &amp; Aute" height="400" src="../images/do288_c03_02.png" style="display: block; margin: 0 auto" width="600" /></p>
<h4 id="proceso-de-autorizacion">Proceso de autorización</h4>
<p>Este es gestionado por reglas, roles y enlaces</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Objeto RBAC</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Rule</td>
<td style="text-align: left;">Permite acciones sobre objetos o grupo de objetos</td>
</tr>
<tr>
<td style="text-align: left;">Role</td>
<td style="text-align: left;">Conjunto de reglas. Los usuarios y grupos se pueden asociar a varios roles</td>
</tr>
<tr>
<td style="text-align: left;">Binding</td>
<td style="text-align: left;">Asignación de usuarios/grupos a un role</td>
</tr>
</tbody>
</table>
<h4 id="alcance-de-rbac">Alcance de RBAC</h4>
<p>RHOCP tiene definido 2 tipos de nivel de grupos que depende del alcance y responsabilidad</p>
<ul>
<li><strong>Cluster RBAC:</strong> Roles y enlaces aplicados a través de todos los objetos</li>
<li><strong>Local RBAC:</strong> Roles y enlaces para un proyecto determinado. Los enlaces de role local puede refernciar ambos: cluster o local.</li>
</ul>
<h4 id="gestionando-rbac-con-cli">Gestionando RBAC con CLI</h4>
<p>Utiliza el comando <code>oc adm policy</code> para agregar o eliminar roles del cluster</p>
<p>Cambiar usuario normal a administrador del cluster y luego ejemplo para removerlo</p>
<pre><code class="language-bash">oc adm policy add-cluster-role-to-user cluster-admin eocampo

oc adm policy remove-cluster-role-from-user cluster-admin eocampo
</code></pre>
<p>Para saber si el usuario puede ejecutar una acción se utliza el comando <code>oc adm policy who-can</code> así:</p>
<pre><code class="language-bash">oc adm policy who-can delete eocampo
</code></pre>
<h3 id="roles-por-default">Roles por default</h3>
<p>Por defecto el cluster de OCP tiene roles que pueden ser asignados localmente en todo el clúster, lo cuales se pueden modificar ser mas precisos en la asignación del contrtol de acceso a los recursos</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Default Role</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>admin</code></td>
<td style="text-align: left;">Puede gestionar todos los recursos de un proyecto, incluyedo otorgar acceso a otros usuarios. Otorga acceso a los recursos de un proyecto incluyendo <em>limits</em> y <em>quotas</em></td>
</tr>
<tr>
<td style="text-align: left;"><code>basic-user</code></td>
<td style="text-align: left;">Acceso de solo lectura al proyecto</td>
</tr>
<tr>
<td style="text-align: left;"><code>cluster-admin</code></td>
<td style="text-align: left;">Superusurio ya que tiene acceso a los recursos del Clúster. Puede hacer cualquier acción</td>
</tr>
<tr>
<td style="text-align: left;"><code>cluster-status</code></td>
<td style="text-align: left;">Acceso a la informción de estado del clúster</td>
</tr>
<tr>
<td style="text-align: left;"><code>cluster-reader</code></td>
<td style="text-align: left;">Acceso y/o vista a la mayoría de objetos en el clúster, pero no modificarlos</td>
</tr>
<tr>
<td style="text-align: left;"><code>edit</code></td>
<td style="text-align: left;">Crear, modificar y eliminar recursos comunes de la app de un proyecto (services, deplyments). No puede realizar acciones sobre recursos de gestión [<em>limits</em>, <em>quotas</em>], tampoco gestionar permisos de acceso al proyecto. Acceso tipo desarrollador</td>
</tr>
<tr>
<td style="text-align: left;"><code>self-provisioner</code></td>
<td style="text-align: left;">Pueden cerar sus propios proyectos. Permite crear recursos <code>projectrequests</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>view</code></td>
<td style="text-align: left;">Pueden ver los recursos de un proyecto sin modificarlos</td>
</tr>
</tbody>
</table>
<p>Agregar un role a un usuario específico:</p>
<pre><code class="language-bash">oc policy add-role-to-user role-name eocampo -n miproyecto
</code></pre>
<h3 id="tipos-de-usuarios">Tipos de usuarios</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Tipos de usuarios</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Regular users</td>
<td style="text-align: left;">Son los usuarios con mas interacción y se representan como <code>User</code></td>
</tr>
<tr>
<td style="text-align: left;">System users</td>
<td style="text-align: left;">Creados automaticamente con la definición de la infra. Principalmente para la seguridad de la infraestructura e interacción con la API <strong><em>cluster adminitrator</em></strong> <br/> Utiliza el prefijo <code>system:</code> por ejemplo <code>system:admin</code></td>
</tr>
<tr>
<td style="text-align: left;">Service accounts</td>
<td style="text-align: left;">Usuario de sistema asociados con proyectos. Los Workloads pueden usar <em>service account</em> para conectarse a APIs de K8S <br/> Se podría crear de forma automática momento de cerar un poryecto <br/> No tiene roles <br/> Se otorga roles a los <em>service account</em> <br/> Se representa como <code>ServiceAccount</code> <br/> tiene el prefijo <code>system:serviceaccount:default:eocampo</code> (default is a namespace)</td>
</tr>
</tbody>
</table>
<h3 id="gestion-de-grupos">Gestión de grupos</h3>
<p>Crear un grupo en el clúster:</p>
<pre><code class="language-bash">oc adm groups new ocampos
</code></pre>
<p>Agregar usuarios al grupo:</p>
<pre><code class="language-bash">oc adm groups add-users ocampos eocampo
</code></pre>
<h2 id="documentacion_1">Documentación</h2>
<ul>
<li><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.14/html-single/authentication_and_authorization/index#authorization-overview_using-rbac">Using RBAC to Define and Apply Permissions</a></li>
<li><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.14/html-single/authentication_and_authorization/index#understanding-authentication">Understanding Authentication</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>